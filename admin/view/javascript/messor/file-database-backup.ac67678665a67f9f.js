(function(){"use strict";var e={7030:function(e,t,n){var a=n(9963),o=n(655),l=n(6252),u=n(3577),r=n(2262),i=n(7061),s=n(8127),c="extension/module/messor/FDBBApi";function d(){return(0,o.mG)(this,void 0,Promise,(function(){var e;return(0,o.Jh)(this,(function(t){switch(t.label){case 0:return[4,(0,s.Nv)(c,"main")];case 1:return e=t.sent().data,[2,e||null]}}))}))}function p(e,t){return(0,o.mG)(this,void 0,Promise,(function(){var n,a,l,u,r,i,d,p;return(0,o.Jh)(this,(function(m){switch(m.label){case 0:return n={method:"POST",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"},[4,fetch("".concat((0,s.VN)(),"&route=").concat(c),n)];case 1:return a=m.sent(),l=a.headers.get("content-length")||"0",u=parseInt(l,10),r=0,i="",d=new Response(new ReadableStream({start:function(e){var n;return(0,o.mG)(this,void 0,void 0,(function(){var l,s,c,d,p;return(0,o.Jh)(this,(function(o){switch(o.label){case 0:if(l=null===(n=a.body)||void 0===n?void 0:n.getReader(),!l)return[2];if(s=a.headers.get("Content-Disposition"),!s)return[2];i=s.substring(s.indexOf("filename=")+9),o.label=1;case 1:return[4,l.read()];case 2:if(c=o.sent(),d=c.done,p=c.value,d||!p)return[3,4];r+=p.byteLength,t({loaded:r,total:u}),e.enqueue(p),o.label=3;case 3:return[3,1];case 4:return e.close(),[2]}}))}))}})),p={},[4,d.blob()];case 2:return[2,(p.data=m.sent(),p.fileName=i,p)]}}))}))}function m(e){return(0,o.mG)(this,void 0,Promise,(function(){var t,n,a;return(0,o.Jh)(this,(function(o){switch(o.label){case 0:return[4,(0,s.Nv)(c,"email",e)];case 1:return t=o.sent(),n=t.status,a=t.data,[2,{success:"ok"===(null===n||void 0===n?void 0:n.toLocaleLowerCase()),message:a}]}}))}))}function _(e){return(0,o.mG)(this,void 0,Promise,(function(){var t,n,a;return(0,o.Jh)(this,(function(o){switch(o.label){case 0:return[4,(0,s.Nv)(c,"save",e)];case 1:return t=o.sent(),n=t.status,a=t.data,[2,{success:"ok"===(null===n||void 0===n?void 0:n.toLocaleLowerCase()),message:a}]}}))}))}function f(e){return(0,o.mG)(this,void 0,Promise,(function(){var t,n,a;return(0,o.Jh)(this,(function(o){switch(o.label){case 0:return[4,(0,s.Nv)(c,"exclude",{exclude:e})];case 1:return t=o.sent(),n=t.status,a=t.data,[2,{success:"ok"===(null===n||void 0===n?void 0:n.toLocaleLowerCase()),message:a.text}]}}))}))}var v=n(8104),b=n(8682),g=n(4312),h=n(9027),k={class:"ms-form-control__field ms-form-control__field-bg"},w=["name","value"],y=(0,l._)("span",{class:"ms-checkbox__icon"},null,-1),x={class:"ms-checkbox__txt"},U=(0,l.aZ)({__name:"RadioButtonControl",props:{name:{type:String,required:!0},value:{type:String,required:!0},modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,o=e,u="".concat(o.name).concat(performance.now()),i=(0,l.Fl)({get:function(){return o.modelValue},set:function(e){return n("update:modelValue",e)}});return function(t,n){return(0,l.wg)(),(0,l.iD)("div",k,[(0,l._)("label",{class:"ms-checkbox ms-checkbox-rounded",for:u},[(0,l.wy)((0,l._)("input",{id:u,name:e.name,type:"radio","onUpdate:modelValue":n[0]||(n[0]=function(e){return(0,r.dq)(i)?i.value=e:null}),value:e.value},null,8,w),[[a.G2,(0,r.SU)(i)]]),y,(0,l._)("span",x,[(0,l.WI)(t.$slots,"default")])])])}}});const V=U;var S=V,I={class:"ms-form-control__field"},O={for:"request-data--path"},j={key:0,class:"ms-form-control__label"},q=(0,l.aZ)({__name:"TextInputComponent",props:{title:{type:String},modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,o=e,i=(0,l.Fl)({get:function(){return o.modelValue},set:function(e){return n("update:modelValue",e)}});return function(t,n){return(0,l.wg)(),(0,l.iD)("div",I,[(0,l._)("label",O,[e.title?((0,l.wg)(),(0,l.iD)("span",j,(0,u.zw)(e.title),1)):(0,l.kq)("",!0),(0,l.wy)((0,l._)("input",{id:"request-data--path","onUpdate:modelValue":n[0]||(n[0]=function(e){return(0,r.dq)(i)?i.value=e:null}),class:"ms-form-control ms-form-control-md",type:"text"},null,512),[[a.nr,(0,r.SU)(i)]])])])}}});const z=q;var D=z,C=n(6866),P=function(e){return(0,l.dD)("data-v-618aa740"),e=e(),(0,l.Cn)(),e},L={key:0},W={class:"ms-settings-page__group"},G={class:"ms-settings-page__group-title"},J={class:"ms-settings-page__group-col"},F={class:"ms-settings-page__group-col"},B={for:"request-data--type_arch"},H={class:"ms-form-control__label"},N={class:"select_wrapper"},Z=["value"],R={key:0,class:"ms-settings-page__group-col ms-settings-page__group-col-fluid"},T={key:0,class:"ms-settings-page__group"},E={class:"ms-settings-page__group-title"},A={class:"ms-settings-page__group-col ms-settings-page__group-col-fluid"},M={class:"ms-page-box__item"},Y={class:"ms-page-box__title"},K={class:"ms-page-box__title-icon"},X=["src"],$={class:"ms-page-box__title-txt"},Q={class:"ms-page-box__content ms-page-box__content-padding"},ee={class:"ms-form"},te={class:"head-col"},ne=["for"],ae=["id","value"],oe=P((function(){return(0,l._)("span",{class:"ms-checkbox__icon"},null,-1)})),le={class:"ms-checkbox__txt"},ue={class:"ms-page-box__controls ms-page-box__controls-centered"},re=P((function(){return(0,l._)("span",{class:"ms-link-primary"},"/",-1)})),ie=(0,l.Uk)("Â  "),se={class:"ms-settings-page__group"},ce={class:"ms-settings-page__group-title"},de={class:"ms-settings-page__group-col ms-settings-page__group-col-fluid"},pe={class:(0,u.C_)(["ms-settings-page__group-col","ms-settings-page__group-col-has-hidden","ms-settings-page__group-col-fluid"])},me={class:"ms-settings-page__group-col-hidden"},_e={class:"ms-settings-page__group-col ms-settings-page__group-col-fluid"},fe=(0,l.aZ)({__name:"FileDatabaseBackup",setup:function(e){var t=this,c=(0,r.iH)(!0),k=(0,r.iH)(!0),w=(0,r.iH)(null),y=(0,r.qj)({action:"download",type_arch:".zip",type_backup:"backup_db",filename:"",tables:[],email_user:"",path:""}),x=(0,r.iH)(0),U=(0,r.iH)(0),V=(0,r.iH)(""),I=function(){return(0,o.mG)(t,void 0,Promise,(function(){var e;return(0,o.Jh)(this,(function(t){switch(t.label){case 0:return[4,(0,s.Nv)("extension/module/messor/FDBBApi","check_license")];case 1:return e=t.sent().data,k.value=e.accepted,[2]}}))}))},O=function(){k.value=!0},j=function(){return(0,o.mG)(t,void 0,Promise,(function(){var e,t,n,a,l,u;return(0,o.Jh)(this,(function(o){switch(o.label){case 0:return e=w,[4,d()];case 1:return e.value=o.sent(),y.filename=(null===(t=w.value)||void 0===t?void 0:t.filename)||"",y.email_user=(null===(n=w.value)||void 0===n?void 0:n.email)||"",y.path=(null===(a=w.value)||void 0===a?void 0:a.path)||"",V.value=(null===(u=null===(l=w.value)||void 0===l?void 0:l.exclude)||void 0===u?void 0:u.join("\n"))||"",[4,I()];case 2:return o.sent(),c.value=!1,[2]}}))}))},q=function(){var e;y.tables=(null===(e=w.value)||void 0===e?void 0:e.tables)||[]},z=function(){y.tables=[]},P=function(e,t){var n=document.createElement("a");document.body.appendChild(n),n.style.display="none";var a=window.URL.createObjectURL(e);n.href=a,n.download=t,n.click(),window.URL.revokeObjectURL(a)},fe=function(){return(0,o.mG)(t,void 0,Promise,(function(){var e,t,n;return(0,o.Jh)(this,(function(a){switch(a.label){case 0:return[4,p(y,(function(e){var t=e.loaded,n=e.total;U.value=t,x.value=n}))];case 1:return e=a.sent(),t=e.data,n=e.fileName,t&&P(t,n),[2]}}))}))},ve=function(){return(0,o.mG)(t,void 0,Promise,(function(){var e;return(0,o.Jh)(this,(function(t){switch(t.label){case 0:return c.value=!0,U.value=0,x.value=0,[4,f(V.value.split("\n"))];case 1:switch(t.sent(),e=y.action,e){case"download":return[3,2];case"save":return[3,4];case"email":return[3,6]}return[3,8];case 2:return[4,fe()];case 3:return t.sent(),[3,9];case 4:return[4,_(y)];case 5:return t.sent(),[3,9];case 6:return[4,m(y)];case 7:return t.sent(),[3,9];case 8:return[3,9];case 9:return c.value=!1,[2]}}))}))};return(0,l.bv)((function(){(0,i.g)(),j()})),function(e,t){return(0,l.wg)(),(0,l.iD)(l.HY,null,[k.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(v.Z,{key:0,"api-route":"extension/module/messor/FDBBApi",onClose:O})),c.value?((0,l.wg)(),(0,l.j4)(g.Z,{key:1},{default:(0,l.w5)((function(){return[U.value&&x.value?((0,l.wg)(),(0,l.iD)("span",L,(0,u.zw)((100*U.value/x.value).toFixed(1))+"% ",1)):(0,l.kq)("",!0)]})),_:1})):(0,l.kq)("",!0),(0,l.Wm)(h.Z,{"image-url":n(6846),"sub-title":(0,r.SU)(i.I)("backup_descript"),title:"Backup"},{"default-settings":(0,l.w5)((function(){return[(0,l.Wm)(D,{modelValue:y.path,"onUpdate:modelValue":t[0]||(t[0]=function(e){return y.path=e}),title:(0,r.SU)(i.I)("backup_path")},null,8,["modelValue","title"]),(0,l.Wm)(S,{modelValue:y.type_backup,"onUpdate:modelValue":t[1]||(t[1]=function(e){return y.type_backup=e}),name:"type_backup",value:"backup_file"},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,u.zw)((0,r.SU)(i.I)("backup_file")),1)]})),_:1},8,["modelValue"]),(0,l.Wm)(S,{modelValue:y.type_backup,"onUpdate:modelValue":t[2]||(t[2]=function(e){return y.type_backup=e}),name:"type_backup",value:"backup_db"},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,u.zw)((0,r.SU)(i.I)("backup_database")),1)]})),_:1},8,["modelValue"]),(0,l._)("button",{class:"ms-btn-start ms-btn ms-btn-primary",type:"submit",onClick:ve},(0,u.zw)((0,r.SU)(i.I)("backup_button_database")),1)]})),"professional-settings":(0,l.w5)((function(){var e,o;return[(0,l._)("div",W,[(0,l._)("span",G,(0,u.zw)((0,r.SU)(i.I)("backup_archiving_setting")),1),(0,l._)("div",J,[(0,l.Wm)(D,{modelValue:y.filename,"onUpdate:modelValue":t[3]||(t[3]=function(e){return y.filename=e}),title:(0,r.SU)(i.I)("backup_file_name")},null,8,["modelValue","title"])]),(0,l._)("div",F,[(0,l._)("label",B,[(0,l._)("span",H,(0,u.zw)((0,r.SU)(i.I)("backup_pack")),1),(0,l._)("span",N,[(0,l.wy)((0,l._)("select",{id:"request-data--type_arch","onUpdate:modelValue":t[4]||(t[4]=function(e){return y.type_arch=e}),class:"ms-form-control ms-form-control-md",name:"type_arch"},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(Object.entries((null===(e=w.value)||void 0===e?void 0:e.avaliable_arch)||{}),(function(e){var t=e[0],n=e[1];return(0,l.wg)(),(0,l.iD)("option",{key:t,value:n},(0,u.zw)(t),9,Z)})),128))],512),[[a.bM,y.type_arch]])])])]),"backup_file"===y.type_backup?((0,l.wg)(),(0,l.iD)("div",R,[(0,l.Wm)(C.Z,{modelValue:V.value,"onUpdate:modelValue":t[5]||(t[5]=function(e){return V.value=e}),name:"EXCLUDE_FILES",type:"textarea","field-id":"excludedFiles",title:"".concat((0,r.SU)(i.I)("backup_exclude_directory"),":"),"tooltip-text":(0,r.SU)(i.I)("backup_exclude_directory")},null,8,["modelValue","title","tooltip-text"])])):(0,l.kq)("",!0)]),"backup_db"===y.type_backup?((0,l.wg)(),(0,l.iD)("div",T,[(0,l._)("span",E,(0,u.zw)((0,r.SU)(i.I)("backup_settings")),1),(0,l._)("div",A,[(0,l._)("div",M,[(0,l._)("div",Y,[(0,l._)("span",K,[(0,l._)("img",{src:n(3828),alt:""},null,8,X)]),(0,l._)("span",$,(0,u.zw)((0,r.SU)(i.I)("backup_select_table")),1),(0,l.Wm)(b.Z,{"tooltip-text":(0,r.SU)(i.I)("backup_i_select_table")},null,8,["tooltip-text"])]),(0,l._)("div",Q,[(0,l._)("div",ee,[(0,l._)("table",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((null===(o=w.value)||void 0===o?void 0:o.tables)||[],(function(e){return(0,l.wg)(),(0,l.iD)("tr",{key:e},[(0,l._)("td",te,[(0,l._)("label",{for:"".concat(e,"-table-name-checkbox"),class:"ms-checkbox"},[(0,l.wy)((0,l._)("input",{id:"".concat(e,"-table-name-checkbox"),"onUpdate:modelValue":t[6]||(t[6]=function(e){return y.tables=e}),value:e,name:"tables[]",type:"checkbox"},null,8,ae),[[a.e8,y.tables]]),oe],8,ne)]),(0,l._)("td",null,[(0,l._)("span",le,(0,u.zw)(e),1)])])})),128))])])]),(0,l._)("div",ue,[(0,l._)("button",{id:"allenable",class:"ms-link-primary",onClick:q},(0,u.zw)((0,r.SU)(i.I)("backup_select_all")),1),re,ie,(0,l._)("button",{id:"alldisable",class:"ms-link-primary",onClick:z},(0,u.zw)((0,r.SU)(i.I)("backup_remove_select")),1)])])])])):(0,l.kq)("",!0),(0,l._)("div",se,[(0,l._)("span",ce,(0,u.zw)((0,r.SU)(i.I)("backup_action")),1),(0,l._)("div",de,[(0,l.Wm)(S,{modelValue:y.action,"onUpdate:modelValue":t[7]||(t[7]=function(e){return y.action=e}),name:"action",value:"download"},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,u.zw)((0,r.SU)(i.I)("backup_download")),1)]})),_:1},8,["modelValue"])]),(0,l._)("div",pe,[(0,l.Wm)(S,{modelValue:y.action,"onUpdate:modelValue":t[8]||(t[8]=function(e){return y.action=e}),name:"action",value:"email"},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,u.zw)((0,r.SU)(i.I)("backup_send_of_email")),1)]})),_:1},8,["modelValue"]),(0,l._)("div",me,[(0,l.Wm)(D,{modelValue:y.email_user,"onUpdate:modelValue":t[9]||(t[9]=function(e){return y.email_user=e}),title:"Email"},null,8,["modelValue"])])]),(0,l._)("div",_e,[(0,l.Wm)(S,{modelValue:y.action,"onUpdate:modelValue":t[10]||(t[10]=function(e){return y.action=e}),name:"action",value:"save"},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,u.zw)((0,r.SU)(i.I)("backup_save_on_server")),1)]})),_:1},8,["modelValue"])])])]})),_:1},8,["image-url","sub-title"])],64)}}}),ve=n(3744);const be=(0,ve.Z)(fe,[["__scopeId","data-v-618aa740"]]);var ge=be;(0,a.ri)(ge).mount("#app")},3828:function(e,t,n){e.exports=n.p+"image/messor/icon-table.aebf25ee.svg"},6846:function(e,t,n){e.exports=n.p+"image/messor/backup.527f7cd3.png"}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,n),l.exports}n.m=e,function(){var e=[];n.O=function(t,a,o,l){if(!a){var u=1/0;for(c=0;c<e.length;c++){a=e[c][0],o=e[c][1],l=e[c][2];for(var r=!0,i=0;i<a.length;i++)(!1&l||u>=l)&&Object.keys(n.O).every((function(e){return n.O[e](a[i])}))?a.splice(i--,1):(r=!1,l<u&&(u=l));if(r){e.splice(c--,1);var s=o();void 0!==s&&(t=s)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[a,o,l]}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.j=757}(),function(){n.p="view/"}(),function(){var e={757:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,l,u=a[0],r=a[1],i=a[2],s=0;if(u.some((function(t){return 0!==e[t]}))){for(o in r)n.o(r,o)&&(n.m[o]=r[o]);if(i)var c=i(n)}for(t&&t(a);s<u.length;s++)l=u[s],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(c)},a=self["webpackChunkfull_with_router_v0_2"]=self["webpackChunkfull_with_router_v0_2"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998,64],(function(){return n(7030)}));a=n.O(a)})();