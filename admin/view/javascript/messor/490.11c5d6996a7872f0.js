"use strict";(self["webpackChunkfull_with_router_v0_2"]=self["webpackChunkfull_with_router_v0_2"]||[]).push([[490],{2979:function(){},9220:function(){},1005:function(e,t,n){var a=n(6252),u=n(2262),l=n(9963),o={class:"ms-form-control__field ms-form-control__field-bg"},s=["name","value"],i=(0,a._)("span",{class:"ms-checkbox__icon"},null,-1),r={class:"ms-checkbox__txt"};t["Z"]=(0,a.aZ)({__name:"RadioButtonControl",props:{name:{type:String,required:!0},value:{type:String,required:!0},modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,c=e,d="".concat(c.name).concat(performance.now()),m=(0,a.Fl)({get:function(){return c.modelValue},set:function(e){return n("update:modelValue",e)}});return function(t,n){return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("label",{class:"ms-checkbox ms-checkbox-rounded",for:d},[(0,a.wy)((0,a._)("input",{id:d,name:e.name,type:"radio","onUpdate:modelValue":n[0]||(n[0]=function(e){return(0,u.dq)(m)?m.value=e:null}),value:e.value},null,8,s),[[l.G2,(0,u.SU)(m)]]),i,(0,a._)("span",r,[(0,a.WI)(t.$slots,"default")])])])}}})},1826:function(e,t,n){var a=n(6252),u=n(3577),l=n(2262),o=n(9963),s={class:"ms-form-control__field"},i={for:"request-data--path"},r={key:0,class:"ms-form-control__label"};t["Z"]=(0,a.aZ)({__name:"TextInputComponent",props:{title:{type:String},modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,c=e,d=(0,a.Fl)({get:function(){return c.modelValue},set:function(e){return n("update:modelValue",e)}});return function(t,n){return(0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("label",i,[e.title?((0,a.wg)(),(0,a.iD)("span",r,(0,u.zw)(e.title),1)):(0,a.kq)("",!0),(0,a.wy)((0,a._)("input",{id:"request-data--path","onUpdate:modelValue":n[0]||(n[0]=function(e){return(0,l.dq)(d)?d.value=e:null}),class:"ms-form-control ms-form-control-md",type:"text"},null,512),[[o.nr,(0,l.SU)(d)]])])])}}})},6709:function(e,t,n){var a=n(655),u=n(6252),l=n(3577),o=n(2262),s=n(9963),i=n(7061),r=n(5349),c=n(8104),d=n(8682),m=n(4312),p=n(9027),_=n(4440),f=n(1833),v=n(6866),b=n(8127),g=function(e){return(0,u.dD)("data-v-618aa740"),e=e(),(0,u.Cn)(),e},h={key:0},k={class:"ms-settings-page__group"},w={class:"ms-settings-page__group-title"},y={class:"ms-settings-page__group-col"},U={class:"ms-settings-page__group-col"},x={for:"request-data--type_arch"},V={class:"ms-form-control__label"},Z={class:"select_wrapper"},S=["value"],I={key:0,class:"ms-settings-page__group-col ms-settings-page__group-col-fluid"},q={key:0,class:"ms-settings-page__group"},z={class:"ms-settings-page__group-title"},D={class:"ms-settings-page__group-col ms-settings-page__group-col-fluid"},C={class:"ms-page-box__item"},L={class:"ms-page-box__title"},W={class:"ms-page-box__title-icon"},j=["src"],B={class:"ms-page-box__title-txt"},F={class:"ms-page-box__content ms-page-box__content-padding"},G={class:"ms-form"},J={class:"head-col"},N=["for"],P=["id","value"],H=g((function(){return(0,u._)("span",{class:"ms-checkbox__icon"},null,-1)})),O={class:"ms-checkbox__txt"},R={class:"ms-page-box__controls ms-page-box__controls-centered"},E=g((function(){return(0,u._)("span",{class:"ms-link-primary"},"/",-1)})),Y=(0,u.Uk)("Â  "),A={class:"ms-settings-page__group"},T={class:"ms-settings-page__group-title"},K={class:"ms-settings-page__group-col ms-settings-page__group-col-fluid"},Q={class:(0,l.C_)(["ms-settings-page__group-col","ms-settings-page__group-col-has-hidden","ms-settings-page__group-col-fluid"])},M={class:"ms-settings-page__group-col-hidden"},X={class:"ms-settings-page__group-col ms-settings-page__group-col-fluid"};t["Z"]=(0,u.aZ)({__name:"FileDatabaseBackup",setup:function(e){var t=this,g=(0,o.iH)(!0),$=(0,o.iH)(!0),ee=(0,o.iH)(null),te=(0,o.qj)({action:"download",type_arch:".zip",type_backup:"backup_db",filename:"",tables:[],email_user:"",path:""}),ne=(0,o.iH)(0),ae=(0,o.iH)(0),ue=(0,o.iH)(""),le=function(){return(0,a.mG)(t,void 0,Promise,(function(){var e;return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return[4,(0,b.Nv)("extension/module/messor/FDBBApi","check_license")];case 1:return e=t.sent().data,$.value=e.accepted,[2]}}))}))},oe=function(){$.value=!0},se=function(){return(0,a.mG)(t,void 0,Promise,(function(){var e,t,n,u,l,o;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return e=ee,[4,(0,r.Nf)()];case 1:return e.value=a.sent(),te.filename=(null===(t=ee.value)||void 0===t?void 0:t.filename)||"",te.email_user=(null===(n=ee.value)||void 0===n?void 0:n.email)||"",te.path=(null===(u=ee.value)||void 0===u?void 0:u.path)||"",ue.value=(null===(o=null===(l=ee.value)||void 0===l?void 0:l.exclude)||void 0===o?void 0:o.join("\n"))||"",[4,le()];case 2:return a.sent(),g.value=!1,[2]}}))}))},ie=function(){var e;te.tables=(null===(e=ee.value)||void 0===e?void 0:e.tables)||[]},re=function(){te.tables=[]},ce=function(e,t){var n=document.createElement("a");document.body.appendChild(n),n.style.display="none";var a=window.URL.createObjectURL(e);n.href=a,n.download=t,n.click(),window.URL.revokeObjectURL(a)},de=function(){return(0,a.mG)(t,void 0,Promise,(function(){var e,t,n;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return[4,(0,r.YO)(te,(function(e){var t=e.loaded,n=e.total;ae.value=t,ne.value=n}))];case 1:return e=a.sent(),t=e.data,n=e.fileName,t&&ce(t,n),[2]}}))}))},me=function(){return(0,a.mG)(t,void 0,Promise,(function(){var e;return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return g.value=!0,ae.value=0,ne.value=0,[4,(0,r.Ej)(ue.value.split("\n"))];case 1:switch(t.sent(),e=te.action,e){case"download":return[3,2];case"save":return[3,4];case"email":return[3,6]}return[3,8];case 2:return[4,de()];case 3:return t.sent(),[3,9];case 4:return[4,(0,r.Qq)(te)];case 5:return t.sent(),[3,9];case 6:return[4,(0,r.BF)(te)];case 7:return t.sent(),[3,9];case 8:return[3,9];case 9:return g.value=!1,[2]}}))}))};return(0,u.bv)((function(){(0,i.g)(),se()})),function(e,t){return(0,u.wg)(),(0,u.iD)(u.HY,null,[$.value?(0,u.kq)("",!0):((0,u.wg)(),(0,u.j4)(c.Z,{key:0,"api-route":"extension/module/messor/FDBBApi",onClose:oe})),g.value?((0,u.wg)(),(0,u.j4)(m.Z,{key:1},{default:(0,u.w5)((function(){return[ae.value&&ne.value?((0,u.wg)(),(0,u.iD)("span",h,(0,l.zw)((100*ae.value/ne.value).toFixed(1))+"% ",1)):(0,u.kq)("",!0)]})),_:1})):(0,u.kq)("",!0),(0,u.Wm)(p.Z,{"image-url":n(6846),"sub-title":(0,o.SU)(i.I)("backup_descript"),title:"Backup"},{"default-settings":(0,u.w5)((function(){return[(0,u.Wm)(f.Z,{modelValue:te.path,"onUpdate:modelValue":t[0]||(t[0]=function(e){return te.path=e}),title:(0,o.SU)(i.I)("backup_path")},null,8,["modelValue","title"]),(0,u.Wm)(_.Z,{modelValue:te.type_backup,"onUpdate:modelValue":t[1]||(t[1]=function(e){return te.type_backup=e}),name:"type_backup",value:"backup_file"},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)((0,o.SU)(i.I)("backup_file")),1)]})),_:1},8,["modelValue"]),(0,u.Wm)(_.Z,{modelValue:te.type_backup,"onUpdate:modelValue":t[2]||(t[2]=function(e){return te.type_backup=e}),name:"type_backup",value:"backup_db"},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)((0,o.SU)(i.I)("backup_database")),1)]})),_:1},8,["modelValue"]),(0,u._)("button",{class:"ms-btn-start ms-btn ms-btn-primary",type:"submit",onClick:me},(0,l.zw)((0,o.SU)(i.I)("backup_button_database")),1)]})),"professional-settings":(0,u.w5)((function(){var e,a;return[(0,u._)("div",k,[(0,u._)("span",w,(0,l.zw)((0,o.SU)(i.I)("backup_archiving_setting")),1),(0,u._)("div",y,[(0,u.Wm)(f.Z,{modelValue:te.filename,"onUpdate:modelValue":t[3]||(t[3]=function(e){return te.filename=e}),title:(0,o.SU)(i.I)("backup_file_name")},null,8,["modelValue","title"])]),(0,u._)("div",U,[(0,u._)("label",x,[(0,u._)("span",V,(0,l.zw)((0,o.SU)(i.I)("backup_pack")),1),(0,u._)("span",Z,[(0,u.wy)((0,u._)("select",{id:"request-data--type_arch","onUpdate:modelValue":t[4]||(t[4]=function(e){return te.type_arch=e}),class:"ms-form-control ms-form-control-md",name:"type_arch"},[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(Object.entries((null===(e=ee.value)||void 0===e?void 0:e.avaliable_arch)||{}),(function(e){var t=e[0],n=e[1];return(0,u.wg)(),(0,u.iD)("option",{key:t,value:n},(0,l.zw)(t),9,S)})),128))],512),[[s.bM,te.type_arch]])])])]),"backup_file"===te.type_backup?((0,u.wg)(),(0,u.iD)("div",I,[(0,u.Wm)(v.Z,{modelValue:ue.value,"onUpdate:modelValue":t[5]||(t[5]=function(e){return ue.value=e}),name:"EXCLUDE_FILES",type:"textarea","field-id":"excludedFiles",title:"".concat((0,o.SU)(i.I)("backup_exclude_directory"),":"),"tooltip-text":(0,o.SU)(i.I)("backup_exclude_directory")},null,8,["modelValue","title","tooltip-text"])])):(0,u.kq)("",!0)]),"backup_db"===te.type_backup?((0,u.wg)(),(0,u.iD)("div",q,[(0,u._)("span",z,(0,l.zw)((0,o.SU)(i.I)("backup_settings")),1),(0,u._)("div",D,[(0,u._)("div",C,[(0,u._)("div",L,[(0,u._)("span",W,[(0,u._)("img",{src:n(3828),alt:""},null,8,j)]),(0,u._)("span",B,(0,l.zw)((0,o.SU)(i.I)("backup_select_table")),1),(0,u.Wm)(d.Z,{"tooltip-text":(0,o.SU)(i.I)("backup_i_select_table")},null,8,["tooltip-text"])]),(0,u._)("div",F,[(0,u._)("div",G,[(0,u._)("table",null,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)((null===(a=ee.value)||void 0===a?void 0:a.tables)||[],(function(e){return(0,u.wg)(),(0,u.iD)("tr",{key:e},[(0,u._)("td",J,[(0,u._)("label",{for:"".concat(e,"-table-name-checkbox"),class:"ms-checkbox"},[(0,u.wy)((0,u._)("input",{id:"".concat(e,"-table-name-checkbox"),"onUpdate:modelValue":t[6]||(t[6]=function(e){return te.tables=e}),value:e,name:"tables[]",type:"checkbox"},null,8,P),[[s.e8,te.tables]]),H],8,N)]),(0,u._)("td",null,[(0,u._)("span",O,(0,l.zw)(e),1)])])})),128))])])]),(0,u._)("div",R,[(0,u._)("button",{id:"allenable",class:"ms-link-primary",onClick:ie},(0,l.zw)((0,o.SU)(i.I)("backup_select_all")),1),E,Y,(0,u._)("button",{id:"alldisable",class:"ms-link-primary",onClick:re},(0,l.zw)((0,o.SU)(i.I)("backup_remove_select")),1)])])])])):(0,u.kq)("",!0),(0,u._)("div",A,[(0,u._)("span",T,(0,l.zw)((0,o.SU)(i.I)("backup_action")),1),(0,u._)("div",K,[(0,u.Wm)(_.Z,{modelValue:te.action,"onUpdate:modelValue":t[7]||(t[7]=function(e){return te.action=e}),name:"action",value:"download"},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)((0,o.SU)(i.I)("backup_download")),1)]})),_:1},8,["modelValue"])]),(0,u._)("div",Q,[(0,u.Wm)(_.Z,{modelValue:te.action,"onUpdate:modelValue":t[8]||(t[8]=function(e){return te.action=e}),name:"action",value:"email"},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)((0,o.SU)(i.I)("backup_send_of_email")),1)]})),_:1},8,["modelValue"]),(0,u._)("div",M,[(0,u.Wm)(f.Z,{modelValue:te.email_user,"onUpdate:modelValue":t[9]||(t[9]=function(e){return te.email_user=e}),title:"Email"},null,8,["modelValue"])])]),(0,u._)("div",X,[(0,u.Wm)(_.Z,{modelValue:te.action,"onUpdate:modelValue":t[10]||(t[10]=function(e){return te.action=e}),name:"action",value:"save"},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,l.zw)((0,o.SU)(i.I)("backup_save_on_server")),1)]})),_:1},8,["modelValue"])])])]})),_:1},8,["image-url","sub-title"])],64)}}})},5349:function(e,t,n){n.d(t,{BF:function(){return i},Ej:function(){return c},Nf:function(){return o},Qq:function(){return r},YO:function(){return s}});var a=n(655),u=n(8127),l="extension/module/messor/FDBBApi";function o(){return(0,a.mG)(this,void 0,Promise,(function(){var e;return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return[4,(0,u.Nv)(l,"main")];case 1:return e=t.sent().data,[2,e||null]}}))}))}function s(e,t){return(0,a.mG)(this,void 0,Promise,(function(){var n,o,s,i,r,c,d,m;return(0,a.Jh)(this,(function(p){switch(p.label){case 0:return n={method:"POST",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"},[4,fetch("".concat((0,u.VN)(),"&route=").concat(l),n)];case 1:return o=p.sent(),s=o.headers.get("content-length")||"0",i=parseInt(s,10),r=0,c="",d=new Response(new ReadableStream({start:function(e){var n;return(0,a.mG)(this,void 0,void 0,(function(){var u,l,s,d,m;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:if(u=null===(n=o.body)||void 0===n?void 0:n.getReader(),!u)return[2];if(l=o.headers.get("Content-Disposition"),!l)return[2];c=l.substring(l.indexOf("filename=")+9),a.label=1;case 1:return[4,u.read()];case 2:if(s=a.sent(),d=s.done,m=s.value,d||!m)return[3,4];r+=m.byteLength,t({loaded:r,total:i}),e.enqueue(m),a.label=3;case 3:return[3,1];case 4:return e.close(),[2]}}))}))}})),m={},[4,d.blob()];case 2:return[2,(m.data=p.sent(),m.fileName=c,m)]}}))}))}function i(e){return(0,a.mG)(this,void 0,Promise,(function(){var t,n,o;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return[4,(0,u.Nv)(l,"email",e)];case 1:return t=a.sent(),n=t.status,o=t.data,[2,{success:"ok"===(null===n||void 0===n?void 0:n.toLocaleLowerCase()),message:o}]}}))}))}function r(e){return(0,a.mG)(this,void 0,Promise,(function(){var t,n,o;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return[4,(0,u.Nv)(l,"save",e)];case 1:return t=a.sent(),n=t.status,o=t.data,[2,{success:"ok"===(null===n||void 0===n?void 0:n.toLocaleLowerCase()),message:o}]}}))}))}function c(e){return(0,a.mG)(this,void 0,Promise,(function(){var t,n,o;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return[4,(0,u.Nv)(l,"exclude",{exclude:e})];case 1:return t=a.sent(),n=t.status,o=t.data,[2,{success:"ok"===(null===n||void 0===n?void 0:n.toLocaleLowerCase()),message:o.text}]}}))}))}},4440:function(e,t,n){var a=n(634);n(4848);const u=a.Z;t["Z"]=u},1833:function(e,t,n){var a=n(9400);const u=a.Z;t["Z"]=u},205:function(e,t,n){n.r(t);var a=n(2257),u=(n(622),n(3744));const l=(0,u.Z)(a.Z,[["__scopeId","data-v-618aa740"]]);t["default"]=l},4848:function(e,t,n){n(2979)},622:function(e,t,n){n(9220)},634:function(e,t,n){n.d(t,{Z:function(){return a.Z}});var a=n(1005)},9400:function(e,t,n){n.d(t,{Z:function(){return a.Z}});var a=n(1826)},2257:function(e,t,n){n.d(t,{Z:function(){return a.Z}});var a=n(6709)},3828:function(e,t,n){e.exports=n.p+"image/messor/icon-table.aebf25ee.svg"},6846:function(e,t,n){e.exports=n.p+"image/messor/backup.527f7cd3.png"}}]);